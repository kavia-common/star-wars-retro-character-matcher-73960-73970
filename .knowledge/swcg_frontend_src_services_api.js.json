{"is_source_file": true, "format": "JavaScript", "description": "This file provides API service functions for a React frontend, including methods to fetch character data, submit quizzes, upload selfies, generate mashups, and share results. It contains helper functions for HTTP requests and exports high-level functions for frontend use.", "external_files": ["fetch (built-in browser API)"], "external_methods": ["fetch"], "published": ["getCharacterTraits", "submitQuiz", "uploadSelfie", "createMashup", "shareResult"], "classes": [], "methods": [{"name": "http(method, path, { json, formData, headers } = {})", "description": "A helper function for making HTTP requests with JSON and form data handling, including error processing.", "scope": "", "scopeKind": ""}, {"name": "getCharacterTraits()", "description": "Fetches the catalog of characters and traits from the backend API.", "scope": "", "scopeKind": ""}, {"name": "submitQuiz(answers, selfieTempId = null)", "description": "Submits quiz answers along with an optional selfie temporary ID.", "scope": "", "scopeKind": ""}, {"name": "uploadSelfie(file)", "description": "Uploads a selfie file using multipart/form-data, returning an object with temporary ID and URL.", "scope": "", "scopeKind": ""}, {"name": "createMashup(selfieTempId, characterName)", "description": "Requests the backend to generate a mashup image based on the selfie temporary ID and character name.", "scope": "", "scopeKind": ""}, {"name": "shareResult(channel, { message = null, target_phone_e164 = null, image_url, page_url = null })", "description": "Instructs the backend to generate a shareable link or send an SMS with provided details.", "scope": "", "scopeKind": ""}], "calls": ["fetch"], "search-terms": ["api.js", "fetch wrappers", "uploadSelfie", "createMashup", "shareResult", "React frontend", "API functions"], "state": 2, "file_id": 13, "knowledge_revision": 30, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^const API_BASE = process.env.REACT_APP_API_BASE_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createMashup", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^export async function createMashup(selfieTempId, characterName) {$/", "language": "JavaScript", "kind": "function", "signature": "(selfieTempId, characterName)"}, {"_type": "tag", "name": "getCharacterTraits", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^export async function getCharacterTraits() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^async function http(method, path, { json, formData, headers } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(method, path, { json, formData, headers } = {})"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^  const opts = { method, headers: headers || {} };$/", "language": "JavaScript", "kind": "field", "scope": "http.opts", "scopeKind": "class"}, {"_type": "tag", "name": "shareResult", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^export async function shareResult(channel, { message = null, target_phone_e164 = null, image_url/", "language": "JavaScript", "kind": "function", "signature": "(channel, { message = null, target_phone_e164 = null, image_url, page_url = null })"}, {"_type": "tag", "name": "submitQuiz", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^export async function submitQuiz(answers, selfieTempId = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(answers, selfieTempId = null)"}, {"_type": "tag", "name": "uploadSelfie", "path": "/home/kavia/workspace/code-generation/star-wars-retro-character-matcher-73960-73970/swcg_frontend/src/services/api.js", "pattern": "/^export async function uploadSelfie(file) {$/", "language": "JavaScript", "kind": "function", "signature": "(file)"}], "hash": "311242325760cd2868d895fe1c8bef84", "format-version": 4, "code-base-name": "swcg_frontend", "filename": "swcg_frontend/src/services/api.js", "fields": [{"name": "const opts = { method, headers: headers || {} };", "scope": "http.opts", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"30": ""}]}